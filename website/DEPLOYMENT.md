# Cloudflare Pagesã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆæ‰‹é †

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ã€Polibaseã®Hugoã‚µã‚¤ãƒˆã‚’Cloudflare Pagesã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹æ‰‹é †ã‚’èª¬æ˜ã—ã¾ã™ã€‚

## ğŸ“‹ å‰ææ¡ä»¶

- Cloudflareã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼ˆç„¡æ–™ãƒ—ãƒ©ãƒ³ã§åˆ©ç”¨å¯èƒ½ï¼‰
- GitHubã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
- trust-chain-organization/polibase ãƒªãƒã‚¸ãƒˆãƒªã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©

## ğŸš€ åˆå›ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †

### 1. Cloudflare Pagesãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ

1. **Cloudflare Dashboardã«ãƒ­ã‚°ã‚¤ãƒ³**
   - https://dash.cloudflare.com/ ã«ã‚¢ã‚¯ã‚»ã‚¹
   - ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ãƒ­ã‚°ã‚¤ãƒ³

2. **Pagesã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¸ç§»å‹•**
   - å·¦å´ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ã€ŒWorkers & Pagesã€ã‚’é¸æŠ
   - ã€ŒCreate applicationã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
   - ã€ŒPagesã€ã‚¿ãƒ–ã‚’é¸æŠ
   - ã€ŒConnect to Gitã€ã‚’é¸æŠ

3. **GitHubãƒªãƒã‚¸ãƒˆãƒªã¨ã®é€£æº**
   - ã€ŒConnect GitHubã€ã‚’ã‚¯ãƒªãƒƒã‚¯
   - æ¨©é™ã®èªå¯ç”»é¢ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰ã€Cloudflare Pagesã«å¿…è¦ãªæ¨©é™ã‚’ä»˜ä¸
   - ãƒªãƒã‚¸ãƒˆãƒªä¸€è¦§ã‹ã‚‰ `trust-chain-organization/polibase` ã‚’é¸æŠ
   - ã€ŒBegin setupã€ã‚’ã‚¯ãƒªãƒƒã‚¯

### 2. ãƒ“ãƒ«ãƒ‰è¨­å®šã®æ§‹æˆ

**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š**:
```
Project name: polibase-websiteï¼ˆã¾ãŸã¯ä»»æ„ã®åå‰ï¼‰
Production branch: main
```

**ãƒ“ãƒ«ãƒ‰è¨­å®š**:
```
Build command: ./build.sh
Build output directory: public
Root directory (advanced): website
```

> **ğŸ’¡ é‡è¦**: `build.sh`ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç’°å¢ƒã§ã¯è‡ªå‹•çš„ã«æ­£ã—ã„baseURLãŒè¨­å®šã•ã‚Œã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç’°å¢ƒã§ã®ãƒªãƒ³ã‚¯ãŒæ­£ã—ãå‹•ä½œã—ã¾ã™ã€‚

**ç’°å¢ƒå¤‰æ•°**:

ã€ŒEnvironment variables (advanced)ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ä»¥ä¸‹ã®ç’°å¢ƒå¤‰æ•°ã‚’è¿½åŠ ï¼š

| Variable name | Value | Description |
|--------------|-------|-------------|
| `HUGO_VERSION` | `0.152.2` | Hugoã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³æŒ‡å®š |
| `HUGO_ENV` | `production` | æœ¬ç•ªç’°å¢ƒè¨­å®š |

> **æ³¨æ„**: Cloudflare Pagesã¯Hugo Extendedã‚’è‡ªå‹•çš„ã«ä½¿ç”¨ã—ã¾ã™ã€‚

### 3. ãƒ–ãƒ©ãƒ³ãƒãƒ‡ãƒ—ãƒ­ã‚¤ã®è¨­å®š

**æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤**:
- `main` ãƒ–ãƒ©ãƒ³ãƒã¸ã®ãƒ—ãƒƒã‚·ãƒ¥ â†’ æœ¬ç•ªç’°å¢ƒã¸è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤

**ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‡ãƒ—ãƒ­ã‚¤**:
- ãã®ä»–ã®ãƒ–ãƒ©ãƒ³ãƒã¸ã®ãƒ—ãƒƒã‚·ãƒ¥ â†’ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç’°å¢ƒã¸è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
- ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼URLã¯ `<ãƒ–ãƒ©ãƒ³ãƒå>.<ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå>.pages.dev` ã®å½¢å¼

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å…¨ãƒ–ãƒ©ãƒ³ãƒã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‡ãƒ—ãƒ­ã‚¤ãŒæœ‰åŠ¹ã«ãªã£ã¦ã„ã¾ã™ã€‚

### 4. ãƒ‡ãƒ—ãƒ­ã‚¤ã®é–‹å§‹

1. ã€ŒSave and Deployã€ã‚’ã‚¯ãƒªãƒƒã‚¯
2. åˆå›ãƒ“ãƒ«ãƒ‰ãŒé–‹å§‹ã•ã‚Œã¾ã™ï¼ˆé€šå¸¸1-3åˆ†ï¼‰
3. ãƒ“ãƒ«ãƒ‰ãƒ­ã‚°ã§é€²æ—ã‚’ç¢ºèªã§ãã¾ã™

### 5. ãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº†ã®ç¢ºèª

ãƒ“ãƒ«ãƒ‰ãŒæˆåŠŸã™ã‚‹ã¨ï¼š
- æœ¬ç•ªURL: `<ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå>.pages.dev`
- ãƒ‡ãƒ—ãƒ­ã‚¤å±¥æ­´ã¨ãƒ­ã‚°ãŒç¢ºèªå¯èƒ½

ãƒ–ãƒ©ã‚¦ã‚¶ã§URLã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã€ã‚µã‚¤ãƒˆãŒæ­£å¸¸ã«è¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

## ğŸ”„ ç¶™ç¶šçš„ãƒ‡ãƒ—ãƒ­ã‚¤

åˆå›è¨­å®šãŒå®Œäº†ã™ã‚‹ã¨ã€ä»¥é™ã¯è‡ªå‹•çš„ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã¾ã™ï¼š

### æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤
```bash
git checkout main
git pull origin main
# å¤‰æ›´ã‚’åŠ ãˆã‚‹
git add .
git commit -m "ã‚µã‚¤ãƒˆã®æ›´æ–°"
git push origin main
```

â†’ `main` ãƒ–ãƒ©ãƒ³ãƒã¸ã®ãƒ—ãƒƒã‚·ãƒ¥ã§æœ¬ç•ªç’°å¢ƒãŒè‡ªå‹•æ›´æ–°ã•ã‚Œã¾ã™

### ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‡ãƒ—ãƒ­ã‚¤
```bash
git checkout -b feature/new-content
# å¤‰æ›´ã‚’åŠ ãˆã‚‹
git add .
git commit -m "æ–°ã—ã„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è¿½åŠ "
git push origin feature/new-content
```

â†’ ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã¸ã®ãƒ—ãƒƒã‚·ãƒ¥ã§ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç’°å¢ƒãŒè‡ªå‹•ä½œæˆã•ã‚Œã¾ã™

ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼URL: `feature-new-content.polibase-website.pages.dev`

## ğŸ¨ ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã®è¨­å®šï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆï¼š

1. Cloudflare Pages ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šã§ã€ŒCustom domainsã€ã‚’é¸æŠ
2. ã€ŒSet up a custom domainã€ã‚’ã‚¯ãƒªãƒƒã‚¯
3. ãƒ‰ãƒ¡ã‚¤ãƒ³åã‚’å…¥åŠ›ï¼ˆä¾‹: `www.polibase.org`ï¼‰
4. DNSè¨­å®šã®æŒ‡ç¤ºã«å¾“ã£ã¦è¨­å®š
5. SSL/TLSè¨¼æ˜æ›¸ãŒè‡ªå‹•çš„ã«ç™ºè¡Œã•ã‚Œã¾ã™

## ğŸ”§ è©³ç´°è¨­å®š

### ãƒ“ãƒ«ãƒ‰è¨­å®šã®å¤‰æ›´

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šã‹ã‚‰ä»¥ä¸‹ã‚’å¤‰æ›´ã§ãã¾ã™ï¼š

- **Settings** > **Builds & deployments**
  - ãƒ“ãƒ«ãƒ‰ã‚³ãƒãƒ³ãƒ‰ã®å¤‰æ›´
  - ç’°å¢ƒå¤‰æ•°ã®è¿½åŠ ãƒ»ç·¨é›†
  - Node.jsãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®æŒ‡å®š

### ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‡ãƒ—ãƒ­ã‚¤ã®åˆ¶å¾¡

ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’ç‰¹å®šã®ãƒ–ãƒ©ãƒ³ãƒã®ã¿ã«é™å®šã™ã‚‹å ´åˆï¼š

1. **Settings** > **Builds & deployments** > **Branch deployments**
2. ã€ŒConfigure preview deploymentsã€ã§è¨­å®šã‚’å¤‰æ›´
3. ãƒ–ãƒ©ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°å¯èƒ½

### ãƒ“ãƒ«ãƒ‰ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ã‚¯ãƒªã‚¢

ãƒ“ãƒ«ãƒ‰ã«å•é¡ŒãŒã‚ã‚‹å ´åˆã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢ã§ãã¾ã™ï¼š

1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®**Deployments**ãƒšãƒ¼ã‚¸ã¸ç§»å‹•
2. è©²å½“ã®ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã®ã€Œ...ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ã€ŒRetry deploymentã€
3. ã€ŒClear build cache and retryã€ã‚’é¸æŠ

## ğŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ãƒ“ãƒ«ãƒ‰ãŒå¤±æ•—ã™ã‚‹

**ç—‡çŠ¶**: ãƒ“ãƒ«ãƒ‰ãƒ­ã‚°ã« `hugo: command not found` ã‚„é¡ä¼¼ã®ã‚¨ãƒ©ãƒ¼

**è§£æ±ºç­–**:
1. ç’°å¢ƒå¤‰æ•° `HUGO_VERSION` ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
2. ãƒ“ãƒ«ãƒ‰ã‚³ãƒãƒ³ãƒ‰ãŒ `hugo --minify` ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª

---

**ç—‡çŠ¶**: `Error: module "PaperMod" not found`

**è§£æ±ºç­–**:
- GitHubãƒªãƒã‚¸ãƒˆãƒªã§ã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
- Cloudflare Pagesã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å–å¾—ã—ã¾ã™
- ã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®åˆæœŸåŒ–ã‚³ãƒãƒ³ãƒ‰ã¯ä¸è¦ã§ã™

### ãƒ†ãƒ¼ãƒãŒè¡¨ç¤ºã•ã‚Œãªã„

**ç—‡çŠ¶**: ã‚µã‚¤ãƒˆãŒçœŸã£ç™½ã§ã€ã‚¹ã‚¿ã‚¤ãƒ«ãŒé©ç”¨ã•ã‚Œã¦ã„ãªã„

**è§£æ±ºç­–**:
1. `hugo.toml` ã® `baseURL` ãŒæ­£ã—ã„ã‹ç¢ºèª
2. Cloudflare Pages ã®ç’°å¢ƒå¤‰æ•° `HUGO_ENV=production` ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

### ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‡ãƒ—ãƒ­ã‚¤ãŒä½œæˆã•ã‚Œãªã„

**ç—‡çŠ¶**: ãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥ã—ã¦ã‚‚ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç’°å¢ƒãŒä½œæˆã•ã‚Œãªã„

**è§£æ±ºç­–**:
1. **Settings** > **Builds & deployments** > **Branch deployments** ã‚’ç¢ºèª
2. ã€ŒEnable preview deploymentsã€ãŒæœ‰åŠ¹ã«ãªã£ã¦ã„ã‚‹ã‹ç¢ºèª
3. ãƒ–ãƒ©ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ã«è©²å½“ã—ã¦ã„ã‚‹ã‹ç¢ºèª

### ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç’°å¢ƒã§ãƒªãƒ³ã‚¯ãŒæœ¬ç•ªç’°å¢ƒã«é·ç§»ã™ã‚‹

**ç—‡çŠ¶**: ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç’°å¢ƒã§ãƒšãƒ¼ã‚¸å†…ã®ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€æœ¬ç•ªç’°å¢ƒï¼ˆsage-base.comï¼‰ã«é·ç§»ã—ã¦ã—ã¾ã†

**åŸå› **: ãƒ“ãƒ«ãƒ‰æ™‚ã«å›ºå®šã®baseURLãŒä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹

**è§£æ±ºç­–**:
1. **Settings** > **Builds & deployments** > **Build configuration** ã§ã€ŒEdit configurationã€ã‚’ã‚¯ãƒªãƒƒã‚¯
2. **Build command** ã‚’ `./build.sh` ã«å¤‰æ›´
3. ã€ŒSaveã€ã‚’ã‚¯ãƒªãƒƒã‚¯
4. æ¬¡å›ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã‹ã‚‰ã€ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç’°å¢ƒã§ã¯æ­£ã—ã„URLãŒä½¿ç”¨ã•ã‚Œã¾ã™

`build.sh`ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ã€ç’°å¢ƒå¤‰æ•°`CF_PAGES_URL`ã‚’ä½¿ç”¨ã—ã¦ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç’°å¢ƒã®baseURLã‚’è‡ªå‹•è¨­å®šã—ã¾ã™ã€‚

## ğŸ“Š ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã®ç›£è¦–

### ãƒ‡ãƒ—ãƒ­ã‚¤å±¥æ­´ã®ç¢ºèª

1. Cloudflare Pages ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã® **Deployments** ã‚¿ãƒ–ã‚’é–‹ã
2. å„ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã®çŠ¶æ…‹ï¼ˆSuccess/Failedï¼‰ã‚’ç¢ºèª
3. ãƒ“ãƒ«ãƒ‰ãƒ­ã‚°ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦è©³ç´°ã‚’ç¢ºèª

### ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯

å•é¡Œã®ã‚ã‚‹ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ã™ã‚‹å ´åˆï¼š

1. **Deployments** ã‚¿ãƒ–ã§ä»¥å‰ã®æˆåŠŸã—ãŸãƒ‡ãƒ—ãƒ­ã‚¤ã‚’é¸æŠ
2. ã€Œ...ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ã€ŒRollback to this deploymentã€ã‚’é¸æŠ
3. æœ¬ç•ªç’°å¢ƒãŒå³åº§ã«ä»¥å‰ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«æˆ»ã‚Šã¾ã™

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š

### ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç’°å¢ƒã«ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™ã‚’ã‹ã‘ã‚‹å ´åˆï¼š

1. **Settings** > **Preview deployments access**
2. ã€ŒRequire authorizationã€ã‚’æœ‰åŠ¹åŒ–
3. ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã™ã‚‹ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’è¿½åŠ 

## ğŸ“š å‚è€ƒãƒªãƒ³ã‚¯

- [Cloudflare Pageså…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://developers.cloudflare.com/pages/)
- [Hugoã¨Cloudflare Pagesã®çµ±åˆã‚¬ã‚¤ãƒ‰](https://developers.cloudflare.com/pages/framework-guides/deploy-a-hugo-site/)
- [Cloudflare Pages ç’°å¢ƒå¤‰æ•°](https://developers.cloudflare.com/pages/configuration/build-configuration/)

## ğŸ†˜ ã‚µãƒãƒ¼ãƒˆ

å•é¡ŒãŒè§£æ±ºã—ãªã„å ´åˆï¼š

1. [Cloudflare Community Forum](https://community.cloudflare.com/)ã§è³ªå•
2. [GitHub Issues](https://github.com/trust-chain-organization/polibase/issues)ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒ¼ãƒ ã«å ±å‘Š
